<div class="reservations-page">
  <!-- Header Section -->
  <header class="page-header">
    <div class="header-content">
      <h1 class="page-title">
        <svg class="title-icon" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        Gestión de Reservas
      </h1>
      <p class="page-subtitle">Centro de control de todas las reservas y bookings</p>
    </div>
    <div class="header-actions">
      <button class="action-btn action-btn--secondary" (click)="exportReservations()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14,2 14,8 20,8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
        </svg>
        Exportar
      </button>
      <button class="action-btn action-btn--secondary" (click)="toggleView()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        {{ view === 'list' ? 'Vista Calendario' : 'Vista Lista' }}
      </button>
      <button class="action-btn action-btn--primary" (click)="createReservation()">
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <path d="M12 5v14"></path>
          <path d="M5 12h14"></path>
        </svg>
        Nueva Reserva
      </button>
    </div>
  </header>

  <!-- Statistics Panel -->
  <section class="stats-section">
    <div class="stats-grid">
      <div class="stat-card today">
        <div class="stat-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats.today }}</div>
          <div class="stat-label">Reservas de hoy</div>
        </div>
      </div>
      
      <div class="stat-card pending">
        <div class="stat-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <polyline points="12,6 12,12 16,14"></polyline>
          </svg>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats.pending }}</div>
          <div class="stat-label">Pendientes de confirmación</div>
        </div>
      </div>
      
      <div class="stat-card cancelled">
        <div class="stat-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <circle cx="12" cy="12" r="10"></circle>
            <line x1="15" y1="9" x2="9" y2="15"></line>
            <line x1="9" y1="9" x2="15" y2="15"></line>
          </svg>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats.cancelled }}</div>
          <div class="stat-label">Cancelaciones</div>
        </div>
      </div>
      
      <div class="stat-card income">
        <div class="stat-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="12" y1="1" x2="12" y2="23"></line>
            <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
          </svg>
        </div>
        <div class="stat-info">
          <div class="stat-value">{{ stats.income | currency:'EUR':'symbol':'1.0-0' }}</div>
          <div class="stat-label">Ingresos del día</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Filters Section -->
  <section class="filters-section">
    <div class="search-box">
      <svg class="search-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <path d="m21 21-4.35-4.35"></path>
      </svg>
      <input 
        type="text" 
        class="search-input" 
        [formControl]="searchControl"
        placeholder="Buscar por cliente, monitor o curso..."
      >
    </div>
    
    <div class="filter-controls">
      <div class="date-range-filters">
        <input 
          type="date" 
          class="filter-input" 
          [formControl]="dateFromControl"
          title="Fecha desde"
        >
        <input 
          type="date" 
          class="filter-input" 
          [formControl]="dateToControl"
          title="Fecha hasta"
        >
      </div>
      
      <select class="filter-select" [formControl]="statusControl">
        <option value="">Todos los estados</option>
        <option value="confirmed">Confirmada</option>
        <option value="pending">Pendiente</option>
        <option value="cancelled">Cancelada</option>
        <option value="completed">Completada</option>
      </select>
      
      <select class="filter-select" [formControl]="typeControl">
        <option value="">Todos los tipos</option>
        <option value="course">Cursos</option>
        <option value="equipment">Equipamiento</option>
      </select>
      
      <div class="view-toggle">
        <button 
          class="toggle-btn" 
          [class.active]="view === 'list'"
          (click)="setView('list')"
          title="Vista en lista"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="8" y1="6" x2="21" y2="6"></line>
            <line x1="8" y1="12" x2="21" y2="12"></line>
            <line x1="8" y1="18" x2="21" y2="18"></line>
            <line x1="3" y1="6" x2="3.01" y2="6"></line>
            <line x1="3" y1="12" x2="3.01" y2="12"></line>
            <line x1="3" y1="18" x2="3.01" y2="18"></line>
          </svg>
        </button>
        <button 
          class="toggle-btn" 
          [class.active]="view === 'calendar'"
          (click)="setView('calendar')"
          title="Vista calendario"
        >
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
            <line x1="16" y1="2" x2="16" y2="6"></line>
            <line x1="8" y1="2" x2="8" y2="6"></line>
            <line x1="3" y1="10" x2="21" y2="10"></line>
          </svg>
        </button>
      </div>
    </div>
  </section>

  <!-- Content Views -->
  <main class="content-section">
    <app-reservations-list *ngIf="view === 'list'" [reservations]="filteredReservations"></app-reservations-list>
    <app-reservations-calendar *ngIf="view === 'calendar'" [reservations]="filteredReservations"></app-reservations-calendar>
  </main>
</div>

