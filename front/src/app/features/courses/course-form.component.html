<form class="course-form" [formGroup]="courseForm" (ngSubmit)="save()">
  <!-- Sport & Type -->
  <div class="card" *ngIf="currentStep === 0">
    <div class="card-header"><h2>Sport &amp; Type</h2></div>
    <div class="card-body">
      <select formControlName="sport">
        <option value="" disabled>Select sport</option>
        <option *ngFor="let s of sports" [value]="s">{{ s }}</option>
      </select>
      <select formControlName="type">
        <option *ngFor="let t of types" [value]="t">{{ t }}</option>
      </select>
    </div>
  </div>

  <!-- Details -->
  <div class="card" *ngIf="currentStep === 1">
    <div class="card-header"><h2>Details</h2></div>
    <div class="card-body">
      <input type="text" formControlName="name" placeholder="Course name" />
      <textarea formControlName="description" placeholder="Description"></textarea>
      <label>
        <input type="checkbox" formControlName="flexible" /> Flexible
      </label>
    </div>
  </div>

  <!-- Dates -->
  <div class="card" *ngIf="currentStep === 2">
    <div class="card-header"><h2>Dates</h2></div>
    <div class="card-body">
      <input type="date" formControlName="date" />
    </div>
  </div>

  <!-- Groups & Levels -->
  <div
    class="card"
    *ngIf="currentStep === 3 && courseForm.get('type')!.value === 'collective'"
  >
    <div class="card-header"><h2>Groups &amp; Levels</h2></div>
    <div class="card-body">
      <input
        type="number"
        formControlName="groupSize"
        placeholder="Group size"
      />
      <select formControlName="level">
        <option value="" disabled>Select level</option>
        <option *ngFor="let level of levels" [value]="level">{{ level }}</option>
      </select>
    </div>
  </div>

  <!-- Extras -->
  <div class="card" *ngIf="currentStep === 4">
    <div class="card-header"><h2>Extras</h2></div>
    <div class="card-body" formArrayName="extras">
      <label *ngFor="let extra of extras; let i = index">
        <input type="checkbox" [formControlName]="i" /> {{ extra }}
      </label>
    </div>
  </div>

  <!-- Translations -->
  <div class="card" *ngIf="currentStep === 5">
    <div class="card-header"><h2>Translations</h2></div>
    <div class="card-body">
      <button type="button" class="btn" (click)="translate()">
        Mock Deepl
      </button>
      <textarea
        formControlName="translated"
        placeholder="Translated description"
      ></textarea>
    </div>
  </div>

  <div class="actions">
    <button type="button" class="btn" (click)="prevStep()" [disabled]="currentStep === 0">
      Previous
    </button>
    <button
      type="button"
      class="btn"
      (click)="nextStep()"
      *ngIf="currentStep < lastStep"
    >
      Next
    </button>
    <button type="submit" class="btn" *ngIf="currentStep === lastStep">
      Save
    </button>
  </div>
</form>
