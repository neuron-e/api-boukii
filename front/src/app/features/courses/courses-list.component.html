<div class="page">
  <div class="page-header">
    <h1>{{ 'courses.title' | translate }}</h1>
  </div>

  <div class="tabs row gap">
    <button
      type="button"
      class="btn"
      *ngFor="let tab of statusTabs"
      [class.active]="selectedTab === tab"
      (click)="selectTab(tab)"
    >
      {{ ('courses.tabs.' + tab) | translate }}
    </button>
  </div>

  <form [formGroup]="filtersForm" class="filters row gap">
    <input type="text" formControlName="search" [placeholder]="'courses.search' | translate" />
    <input type="text" formControlName="sport" [placeholder]="'courses.sport' | translate" />
    <select formControlName="type">
      <option value="">{{ 'common.all' | translate }}</option>
      <option value="collective">{{ 'courses.type.collective' | translate }}</option>
      <option value="private">{{ 'courses.type.private' | translate }}</option>
    </select>
  </form>

  <table>
    <thead>
      <tr>
        <th>{{ 'courses.table.name' | translate }}</th>
        <th>{{ 'courses.table.sport' | translate }}</th>
        <th>{{ 'courses.table.type' | translate }}</th>
        <th>{{ 'courses.table.level' | translate }}</th>
        <th>{{ 'courses.table.status' | translate }}</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let course of filteredCourses" (click)="openCourse(course)" tabindex="0">
        <td>{{ course.name }}</td>
        <td>{{ course.sport }}</td>
        <td>{{ course.type }}</td>
        <td>{{ course.level }}</td>
        <td>{{ course.status }}</td>
      </tr>
    </tbody>
  </table>

  <div class="preview-overlay" *ngIf="selectedCourse" (click)="closeCourse()">
    <div class="preview-drawer" (click)="$event.stopPropagation()">
      <h2>{{ selectedCourse.name }}</h2>
      <p>{{ selectedCourse.description }}</p>
      <p><strong>{{ 'courses.table.sport' | translate }}:</strong> {{ selectedCourse.sport }}</p>
      <p><strong>{{ 'courses.table.type' | translate }}:</strong> {{ selectedCourse.type }}</p>
      <p><strong>{{ 'courses.table.level' | translate }}:</strong> {{ selectedCourse.level }}</p>
      <p><strong>{{ 'courses.table.status' | translate }}:</strong> {{ selectedCourse.status }}</p>
      <button class="btn" type="button" (click)="closeCourse()">{{ 'common.close' | translate }}</button>
    </div>
  </div>
</div>
