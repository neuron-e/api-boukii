<div class="auth">
  <!-- Header común (logo + idioma) -->
  <header class="auth__header" aria-label="Authentication header">
    <div class="auth__brand">
      <img class="auth__logo" src="assets/brand/boukii-logo.svg" alt="boukii" />
      <span class="auth__tag">V5</span>
    </div>

    <div class="auth__tools">
      <button
        class="lang"
        type="button"
        aria-haspopup="menu"
        [attr.aria-expanded]="langOpen"
        (click)="toggleLang()"
        [attr.aria-label]="'language.toggle' | translate"
      >
        {{ currentLangLabel }}
        <svg class="chev" viewBox="0 0 20 20" aria-hidden="true">
          <path d="M6 8l4 4 4-4"/>
        </svg>
      </button>

      <nav
        class="langmenu"
        *ngIf="langOpen"
        role="menu"
        aria-label="Choose language"
      >
        <button 
          role="menuitemradio" 
          [attr.aria-checked]="isLang('es')" 
          (click)="setLang('es')"
          [attr.aria-label]="'language.spanish' | translate">
          ES · Español
        </button>
        <button 
          role="menuitemradio" 
          [attr.aria-checked]="isLang('en')" 
          (click)="setLang('en')"
          [attr.aria-label]="'language.english' | translate">
          EN · English
        </button>
        <button 
          role="menuitemradio" 
          [attr.aria-checked]="isLang('fr')" 
          (click)="setLang('fr')"
          [attr.aria-label]="'language.french' | translate">
          FR · Français
        </button>
      </nav>
    </div>
  </header>

  <!-- Cuerpo a 2 columnas centrado -->
  <main class="auth__main">
    <section class="hero" aria-label="Welcome and features">
      <img class="hero__logo" src="assets/brand/boukii-logo.svg" alt="" />
      <h1 class="hero__title">{{ title }}</h1>
      <p class="hero__subtitle" *ngIf="subtitle">{{ subtitle }}</p>
      <p class="hero__brandline" *ngIf="brandLine">{{ brandLine }}</p>

      <ul class="hero__features" *ngIf="features?.length" role="list">
        <li *ngFor="let feature of features; trackBy: trackFeature" role="listitem">
          <div class="feature__icon" [innerHTML]="feature.icon"></div>
          <div class="feature__content">
            <strong class="feature__title">{{ feature.title }}</strong>
            <span class="feature__subtitle">{{ feature.subtitle }}</span>
          </div>
        </li>
      </ul>
    </section>

    <section class="card" aria-live="polite">
      <ng-content></ng-content>
      
      <!-- Footer links si existen -->
      <div class="card__footer" *ngIf="footerLinks?.length">
        <nav class="footer-links" role="navigation" aria-label="Additional navigation">
          <a 
            *ngFor="let link of footerLinks; trackBy: trackFooterLink"
            [routerLink]="link.routerLink"
            class="footer-link">
            {{ link.label }}
          </a>
        </nav>
      </div>
    </section>
  </main>

  <!-- Decoraciones suaves -->
  <div class="blob blob--tl" aria-hidden="true"></div>
  <div class="blob blob--br" aria-hidden="true"></div>
</div>